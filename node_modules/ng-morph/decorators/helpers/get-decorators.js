"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAllDecorators = exports.getDecorators = void 0;
const utils_1 = require("ng-morph/utils");
const classes_1 = require("ng-morph/classes");
const methods_1 = require("ng-morph/methods");
const constructors_1 = require("ng-morph/constructors");
const params_1 = require("ng-morph/params");
const properties_1 = require("ng-morph/properties");
const accessors_1 = require("ng-morph/accessors");
function getDecorators(declarations, query) {
    return utils_1.arrayFlat(utils_1.coerceArray(declarations).map((declaration) => declaration.getDecorators())).filter((decorator) => utils_1.matchQuery(decorator.getStructure(), query));
}
exports.getDecorators = getDecorators;
exports.getAllDecorators = utils_1.getDeclarationGetter((pattern) => {
    const classes = classes_1.getClasses(pattern);
    const methods = methods_1.getMethods(classes);
    const constructors = constructors_1.getConstructors(classes);
    const properties = properties_1.getProperties(classes);
    const constructorParams = params_1.getParams(constructors);
    const methodParams = params_1.getParams(methods);
    const accessors = accessors_1.getAccessors(classes);
    return utils_1.arrayFlat([
        classes,
        methods,
        properties,
        constructorParams,
        methodParams,
        accessors,
    ].map((declarations) => getDecorators(declarations)));
});
//# sourceMappingURL=get-decorators.js.map