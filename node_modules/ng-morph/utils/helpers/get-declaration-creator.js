"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDeclarationCreator = void 0;
const source_file_1 = require("ng-morph/source-file");
const coerce_array_1 = require("./coerce-array");
function getDeclarationCreator(common, { position = null } = {}) {
    return function addDeclarations(pattern, structures) {
        const files = source_file_1.getSourceFiles(pattern);
        files.forEach((file) => {
            const structuresWithKind = coerce_array_1.coerceArray(structures).map((structure) => (Object.assign(Object.assign({}, common), structure)));
            if (position === null && typeof position !== 'number') {
                file.addStatements(structuresWithKind);
            }
            else {
                file.insertStatements(position, structuresWithKind);
            }
        });
    };
}
exports.getDeclarationCreator = getDeclarationCreator;
//# sourceMappingURL=get-declaration-creator.js.map