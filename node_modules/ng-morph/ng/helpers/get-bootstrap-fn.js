"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getBootstrapFn = void 0;
const ts_morph_1 = require("ts-morph");
const imports_1 = require("ng-morph/imports");
const project_1 = require("ng-morph/project");
function getBootstrapFn(mainFilePath) {
    const [platformBrowserImport] = imports_1.getImports(mainFilePath, {
        moduleSpecifier: '@angular/platform-browser-dynamic',
    });
    const namedImport = platformBrowserImport
        .getNamedImports()
        .find((imp) => imp.getName() === 'platformBrowserDynamic');
    const refs = project_1.getActiveProject()
        .getLanguageService()
        .findReferencesAsNodes(namedImport);
    return refs
        .find((ref) => ts_morph_1.Node.isCallExpression(ref.getParent()))
        .getParent()
        .getParent()
        .getParent();
}
exports.getBootstrapFn = getBootstrapFn;
//# sourceMappingURL=get-bootstrap-fn.js.map